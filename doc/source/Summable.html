<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Ext-iter-Summable'>/**
</span> * @class Ext.iter.Summable
 * @extends Ext.Class
 *
 * Implements aggregation for iterable and map data structures. (Collection, Map)
 */
Ext.define('Ext.iter.Summable', {

<span id='Ext-iter-Summable-method-sum'>    /**
</span>     * Sums all values of the iterable and returns it's sum
     * @param {String} [property=value] (optional) Property name or path to access data per item
     * @return {Number}
     */
    sum: function(property) {

        var flatData = this._toFlatArray(this[this.dataPropertyName], property), sum = 0;

        for (var i=0; i&lt;flatData.length; i++) {
            sum += flatData[i];
        }
        return sum;
    },

<span id='Ext-iter-Summable-method-max'>    /**
</span>     * Returns the maximum value of the iterable data
     * @param {String} [property=value] (optional) Property name or path to access data per item
     * @return {Number}
     */
    max: function(property) {

        var flatData = this._toFlatArray(this[this.dataPropertyName], property);
        return Ext.Array.max(flatData);
    },

<span id='Ext-iter-Summable-method-min'>    /**
</span>     * Returns the minimum value of the iterable data
     * @param {String} [property=value] (optional) Property name or path to access data per item
     * @return {Number}
     */
    min: function(property) {
        var flatData = this._toFlatArray(this[this.dataPropertyName], property);
        return Ext.Array.min(flatData);
    },

<span id='Ext-iter-Summable-method-avg'>    /**
</span>     * Returns the average value of the iterable data
     * @param {String} [property=value] (optional) Property name or path to access data per item
     * @return {Number}
     */
    avg: function(property) {
        return (this.sum(property) / this.count());
    },

<span id='Ext-iter-Summable-method-_toFlatArray'>    /**
</span>     * Returns an array of flat data
     * @param {Array|Object} data Data
     * @param {String} [property=value] (optional) Property name or path to access data per item
     * @return {Array}
     * @private
     */
    _toFlatArray: function(data, property) {

        if (Ext.isCollection(this) &amp;&amp; property !== 'value') {
            property = 'value.' + property;
        }

        if (Ext.isObject(data)) {
            data = Ext.Object.toArray(data, true);
        }

        if (Ext.isArray(data)) {
            data = Ext.Array.flatten(data, property);
        }
        return data;
    }
});</pre>
</body>
</html>
